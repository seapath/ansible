# Copyright (C) 2024, SFL (https://savoirfairelinux.com)
# SPDX-License-Identifier: Apache-2.0

VMs:
  hosts:
    ssc600swexample:
      description: "SSC60SW VM Standalone Example"
      vm_template: "../templates/vm/ssc600sw.xml.j2"
      vm_disk: "../files/ssc600sw_disk.qcow2"
      memory: 6
      cpuset: [4, 5, 6, 7] # TODO: Choose four host cores to pin the VM to.
      #emulatorpin: 3 # TODO: Choose a host core to pin the QEMU thread (can be ignored)
      rt_priority: 50
      wait_for_connection: false

      # Two management interfaces are needed for the VM to accept connections
      # Both are put on the br0 bridge by default
      # Override this section if you use a backup management bridge
      bridges:
        - name: "br0"
          mac_address: "52:54:00:c4:ff:06"
        - name: "br0"
          mac_address: "52:54:00:c4:ff:07"

      # TODO: Define your process bus interface(s):
      # You need at least one interface and can remove the others
      # Note that PCI passthrough is the method recommended by ABB for production

      # The following interfaces uses PCI passthrough.
      # We need to pass the PCI device address
      # You can find the PCI address using the command lspci -nn or dpdk-devbind -s
      # Please be aware that the interface will not be available to the hypervisor anymore
      pci_passthrough:
        - domain: 0 # Replace by your interface
          bus: 7
          slot: 0
          function: 0
        # Can be defined multiple times

      # The following interfaces uses a tap interface on an Open vSwitch bridge
      # You need to create the bridge and the tap interface first
      # Refer to https://lf-energy.atlassian.net/wiki/spaces/SEAP/pages/513441798/Use+Open+vSwitch+bridges+on+SEAPATH
      ovs:
        - ovs_port: "my_tap_interface" # Replace by your interface
          mac_address: "52:54:00:c4:ff:02"
        # Can be defined multiple times
