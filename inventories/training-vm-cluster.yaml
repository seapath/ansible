# This inventory describes a virtual machine that will be deployed on a SEAPATH
# cluster or standalone machine.
# It gives two examples, the first on a critical (real-time) VM and the second
# on a standard VM.
#
# Be careful that SEAPATH only handles how to deploy and run the virtual machine.
# It does not handle any virtual machine inner configuration.
#
# Replace all the TODOs to fit your physical machines.
# More informations on SEAPATH Wiki:
# - General inventory : https://lf-energy.atlassian.net/wiki/x/lIblAQ
# - guest.xml.j2 templated xml file : https://lf-energy.atlassian.net/wiki/x/ao3lAQ

---
VMs:
  hosts:
    vm1:
      vm_template: "../templates/vm/guest.xml.j2"
      vm_disk: "../files/vm-minimal.qcow2"

      ansible_host: 192.168.2.51
      wait_for_connection: false

      vm_features: []
      nb_cpu: 1
      bridges:
        - name: "br0"
          mac_address: "52:54:00:e5:ff:01"
      force: true
      ansible_user: root
      live_migration: true
    vm2:
      vm_template: "../templates/vm/guest.xml.j2"
      vm_disk: "../files/vm-minimal.qcow2"
      ansible_host: 192.168.2.52
      wait_for_connection: false
      vm_features: []
      nb_cpu: 1
      bridges:
        - name: "br0"
          mac_address: "52:54:00:e5:ff:02"
      force: true
      ansible_user: root
      live_migration: true
      preferred_host: hypervisor1
    vm3:
      vm_template: "../templates/vm/guest.xml.j2"
      vm_disk: "../files/vm-minimal.qcow2"
      ansible_host: 192.168.2.53
      wait_for_connection: false
      vm_features: []
      nb_cpu: 1
      bridges:
        - name: "br0"
          mac_address: "52:54:00:e5:ff:03"
      force: true
      ansible_user: root
      colocated_vms:
        - vm2
    vm4:
      vm_template: "../templates/vm/guest.xml.j2"
      vm_disk: "../files/vm-minimal.qcow2"
      ansible_host: 192.168.2.54
      wait_for_connection: false
      vm_features: []
      nb_cpu: 1
      bridges:
        - name: "br0"
          mac_address: "52:54:00:e5:ff:04"
      force: true
      ansible_user: root
  vars:
    ansible_ssh_private_key_file: /home/seapath/seapath/labs/seapath-training-key
